<template>
    <template if:true={isProdModalOpen}>
        <lightning-quick-action-panel header="Add Products">
            <lightning-input  label="Search Products" value={searchTerm} placeholder="Search Products" onchange={handleSearch}></lightning-input>
                    

            <div class="slds-m-around_medium">
            <div>
                <lightning-datatable data-id="datatable" key-field="Id" data={newdata} columns={columns} selected-rows={selectedRows}
                    onrowselection={handleRowSelection}>
                </lightning-datatable>
            </div> 
        </div>
        <!--  Pagination Buttons Start -->
        <div class="slds-align_absolute-center">
            <lightning-button class="prevbutton" variant="brand" label="Previous" icon-name="utility:chevronleft" onclick={previousHandler}
                disabled={isPreviousDisable}>
            </lightning-button>
            <span class="slds-badge slds-badge_lightest text"
                        style="margin-right: 10px;margin-left: 10px;">
                     {startingRecord} to {endingRecord} of {totalRecountCount} records.
                     Page {page} of {totalPage}.
            </span>
            <lightning-button class="nextbutton" variant="brand" label="Next" icon-name="utility:chevronright" icon-position="right" onclick={nextHandler}
                disabled={isNextDisable}>
            </lightning-button>
        </div>

        <div slot="footer">
            <lightning-button
                variant="neutral"
                label="Cancel"
                onclick={handleCancel}
            ></lightning-button>
            <lightning-button
                variant="brand"
                label="Next"
                onclick={handleNext}
                class="slds-m-left_x-small"
            ></lightning-button>
        </div>
    </lightning-quick-action-panel>
    </template>
    <template if:true={isShowSelectedProducts}>
        <c-save-products-screen selected-rows={selectedProdtlist} record-id={recordId} opp-name = {opportunityName} onclose={modalCloseHandler}></c-save-products-screen>
    </template>
</template>